const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CustomButton-DXO1S32O.js","./vendor-Z3tYsDUR.js","./vendor-BI8wlGUX.css"])))=>i.map(i=>d[i]);
import{aC as x,_ as M}from"./index-CA7lLIcV.js";import{n as C,v as E,r as c,j as o,$ as O}from"./vendor-Z3tYsDUR.js";const P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKISURBVHgBnZRNaBNREMdn3ttNTVtkC3roobQiQtFD1yKKtsIeS/EQlJ7NwZOn4sFTIbPRs9iLBxGNFy+WGkIooodtxR5UJH4dcgs9SBERoyCipjvOe5vUhiYYnYTdfe/t/Hb+M/Megtja+LnzGmKYrj64C/9gtfnA2zuQzrLi+r4rDwv4ZPxsFhluKwdA6Tg8+aYY9goa6EtHjos+YMyotyaVBg2AiMBy04qeHcvkegGlsT9CxgkWR+NuTE1V7xcAmDgBMiqkl6e6Aw3I/dUfCcJPZgwI80P0+JUyw9PV5VBYISM0PwH0OtgNrGUDT30biKAFEqcYIBzKr1Di1rSpd0skqFBoIhiYBfh25g+wkgk85gRk32HmeItp/9UE1IqxzV4cz+R0H5JyGXSKQTlMP52vi4PpwUinwHdSEoHMaxfD4etl2um7C2ajmJaIUkBOygJZKr3h7OEx8wGBMbqQH7nRDmqTudOOPi2GskDMVrMpzagVb/V3BnWFGYtjWJSw62hrbxUY3Ororc6grrBKkPFQQyQIr9VEptLyDzYunMn1DDMgbggIwJaf7Q/WEplsoqT3FzsD22AVP+M1vmMkDexDki/Rq8LxpVKgEMnmz/QEMm3Oz+a6wqKxjPcDBcTgt6LgmOlIuUhmdPBeSRobQrN5zFguuQ+X24GqBUr1awE1G1JAGGM48ajUtukPFMqkBGhQSQ6BPi3MbAOVATl9AkKJCJNEy3x+YrXz6TFys0yyiQia4cllGyhH0FwWIb4jx4ftbOVCeOL5MsFfbPPSLGkXcloaWSlRoxqTIrNRS5bZlI16ARkbvrZCaCWbvOAXAF23C+uH5vz1w3M+/Id9XJgJPlPgmeffziH6o548YncAAAAASUVORK5CYII=",R=c.lazy(()=>M(()=>import("./CustomButton-DXO1S32O.js"),__vite__mapDeps([0,1,2]),import.meta.url)),j=({value:f,onChange:i,onSelectLocation:p,placeholder:g="Enter City Name",className:y="",showClear:h=!0,showButton:w=!1,onSubmit:S})=>{const n=C(t=>t.masterSlice?.location),{t:b}=E(),[m,r]=c.useState([]),a=c.useRef(!1),d=c.useRef(null),I=t=>{a.current=!1,d.current&&clearTimeout(d.current),d.current=setTimeout(async()=>{if(t.trim().length<3){r([]);return}try{const e=await x({city:t});if(e?.code===1&&Array.isArray(e?.data?.response)){const s=e.data.response.map(l=>({...l,value:l.full_name}));r(s)}else r([])}catch(e){console.error("Geo search failed",e),r([])}},500)},B=t=>{const e=m.find(s=>s.full_name===t);a.current=!0,r([]),p?.(e),i?.(t)};return c.useEffect(()=>{(async()=>{try{const e=n&&Object.keys(n).length>0&&n?.name;if(e){const s=await x({city:e?n?.name:"Ahmedabad"});if(s?.code===1&&Array.isArray(s?.data?.response)){const l=s.data.response.map(u=>({...u,value:u.full_name}));r(l);const A=l.find(u=>u?.full_name?.toLowerCase()?.includes("ahmedabad"));A&&(a.current=!0,i?.(A.full_name),p?.(A))}}}catch(e){console.error("Failed to set default Mumbai",e)}})()},[n]),o.jsxs("div",{className:`p-4 md:p-10  rounded-[10px] flex flex-col md:flex-row items-center justify-between gap-2 md:gap-[20px] ${y} commonLightBack geoSearchInputDiv`,children:[o.jsxs("div",{className:"w-full md:flex-1 relative geoSearchInputContainer",children:[o.jsx(O,{options:a.current?[]:m,onSearch:I,onSelect:B,onChange:t=>{i?.(t),a.current=!1},value:f,placeholder:g,className:"w-full rounded-lg py-2 md:py-3 px-4 md:px-6 text-xs md:text-sm bg-white h-full outline-none geoSearchInput",open:!a.current&&m.length>0,dropdownStyle:{maxWidth:"95vw",overflow:"auto"}}),h&&f&&o.jsx("img",{src:P,alt:"clear",className:"absolute top-1/2 right-2 md:right-4 -translate-y-1/2 cursor-pointer ",style:{width:"16px",height:"16px"},onClick:()=>{i?.(""),a.current=!1,r([])}})]}),w&&o.jsx("div",{className:"w-full md:w-auto mt-2 md:mt-0 h-full flex justify-center items-center",children:o.jsx(R,{className:"text-white text-sm md:text-[16px] font-semibold px-4 md:px-20 py-2 md:py-4 font-medium w-full md:w-auto text-center",parentClassName:"w-full",onClick:S,children:b("Get_PANCHANG")})})]})},N=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"}));export{N as G,P as c};
