const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CustomButton-DXO1S32O.js","./vendor-Z3tYsDUR.js","./vendor-BI8wlGUX.css"])))=>i.map(i=>d[i]);
import{v as L,r as a,j as e,a8 as P,f as b,$ as Y,n as I,h as f,m as V}from"./vendor-Z3tYsDUR.js";import B from"./CommonBanner-DOXs5XQw.js";import{D as c,aC as U,A as F,_ as z,C as O,L as G,u as K,y as M,Y as E,x as W,b4 as Q,b5 as $,aj as Z,v as q}from"./index-CA7lLIcV.js";import{c as J}from"./GeoSearchInput-jWJD20Mx.js";import"./CustomButton-DXO1S32O.js";import X from"./CustomWhiteButton-DxPqXzdC.js";import{C as k}from"./CommonInfoCard-GbNCeu0F.js";import ee from"./Loader-DZo0XRrG.js";import"./loader4-dvcpAguw.js";const te="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16%203V7M8%203V7M4%2011H20M4%207C4%206.46957%204.21071%205.96086%204.58579%205.58579C4.96086%205.21071%205.46957%205%206%205H18C18.5304%205%2019.0391%205.21071%2019.4142%205.58579C19.7893%205.96086%2020%206.46957%2020%207V19C20%2019.5304%2019.7893%2020.0391%2019.4142%2020.4142C19.0391%2020.7893%2018.5304%2021%2018%2021H6C5.46957%2021%204.96086%2020.7893%204.58579%2020.4142C4.21071%2020.0391%204%2019.5304%204%2019V7ZM8%2015H10V17H8V15Z'%20stroke='url(%23paint0_linear_5736_31866)'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_5736_31866'%20x1='4'%20y1='12'%20x2='20'%20y2='12'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23C32853'/%3e%3cstop%20offset='1'%20stop-color='%23EE7E49'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",ae=a.lazy(()=>z(()=>import("./CustomButton-DXO1S32O.js"),__vite__mapDeps([0,1,2]),import.meta.url)),se=({value:d,onChange:_,onSelectLocation:j,placeholder:w="Enter City Name",className:r="",showClear:x=!0,showButton:v=!1,showDate:m=!1,onSubmit:y,setIs_default_location:h,selectedDate:T,setSelectedDate:g})=>{const{t:A}=L(),[u,s]=a.useState([]),i=a.useRef(!1),p=a.useRef(null),[t,o]=a.useState(!1),N=n=>{i.current=!1,p.current&&clearTimeout(p.current),p.current=setTimeout(async()=>{if(n.trim().length<3){s([]);return}try{const l=await U({city:n});if(l?.code===1&&Array.isArray(l?.data?.response)){const S=l.data.response.map(C=>({...C,value:C.full_name}));s(S)}else s([])}catch(l){console.error("Geo search failed",l),s([])}},200)},H=n=>{const l=u.find(S=>S.full_name===n);i.current=!0,j(l),s([]),_(n)};a.useEffect(()=>{(async()=>{try{const l=await U({city:"Ahmedabad"});if(l?.code===F?.SUCCESS&&Array.isArray(l?.data?.response)){const S=l.data.response.map(R=>({...R,value:R.full_name}));s(S);const C=S.find(R=>R?.full_name?.toLowerCase()?.includes("ahmedabad"));C&&(i.current=!0,_(C.full_name),j(C),o(!0))}}catch(l){console.error("Failed to set default Mumbai",l)}})()},[]),a.useEffect(()=>{t&&(y(),o(!1))},[t]);const D=(n,l)=>{const S=n?n.format(c?.DATE_DASH_FORMAT):null;g(S)};return e.jsxs("div",{className:`p-4 md:p-10  rounded-[10px] flex flex-col md:flex-row items-center justify-between gap-2 md:gap-4 ${r} commonLightBack geoSearchInputDiv`,children:[e.jsxs("div",{className:`w-full md:flex-1  relative geoSearchInputContainer ${m?"flex gap-[10px] lg:gap-[20px] flex-col lg:flex-row":""}`,children:[m&&e.jsx(P,{placeholder:A("select_date"),value:b(T,c?.DATE_DASH_FORMAT),format:c?.DATE_DASH_FORMAT,onChange:D,allowClear:!1,suffixIcon:e.jsx("img",{src:te,alt:"calendar",style:{width:"24px",height:"24px",objectFit:"contain"}}),className:"w-full rounded-[10px] flex-1 outline-none geoSearchInput border-none py-3 ps-[27px] pe-[16px]"}),e.jsx(Y,{options:i.current?[]:u,onSearch:N,onSelect:H,onChange:n=>{_?.(n),i.current=!1},value:d,placeholder:w,className:"w-full rounded-[10px] py-2 md:py-3 px-4 md:px-4 text-xs md:text-sm bg-white h-full outline-none geoSearchInput flex-2",open:!i.current&&u.length>0,dropdownStyle:{maxWidth:"95vw",overflow:"auto"}}),x&&d&&e.jsx("img",{src:J,alt:"clear",className:"absolute top-1/2 right-2 md:right-4 -translate-y-1/2 cursor-pointer close_img_rahukaal",style:{width:"16px",height:"16px"},onClick:()=>{_(""),i.current=!1,s([])}})]}),v&&e.jsx("div",{className:"w-full md:w-auto mt-2 md:mt-0 h-full flex justify-center items-center",children:e.jsx(ae,{className:"text-white text-sm md:text-[16px] font-semibold px-4 md:px-20 py-2 md:py-4 font-medium w-full md:w-auto text-center",parentClassName:"w-full",onClick:y,children:A("Get_rahu_kaal")})})]})},oe=({city:d="Ahmedabad",start:_="07:36",end:j="09:16",duration:w="01:40",rahuKaalData:r,selectedDate:x,setSelectedDate:v,onSubmit:m,apiCallTime:y})=>{const{t:h}=L(),[T,g]=a.useState("todays"),[A,u]=a.useState(b());I(t=>t?.HomePageSlice?.todayPanchang?.data),localStorage?.getItem(O?.LANGUAGE_KEY)?localStorage?.getItem(O?.LANGUAGE_KEY):G?.ENGLISH,a.useEffect(()=>{const t=setInterval(()=>{u(b())},1e3);return()=>clearInterval(t)},[]),A.format("D MMMM YYYY (dddd)"),A.format("h:mm:ss A");const s=[{key:"yesterday",value:h("yesterday"),date:f().subtract(1,"days").format(c?.DATE_DASH_FORMAT)},{key:"todays",value:h("today"),date:f().format(c?.DATE_DASH_FORMAT)},{key:"tommorw",value:h("tomorrow"),date:f().add(1,"days").format(c?.DATE_DASH_FORMAT)}],i=t=>{v(t)};let p={};return a.useEffect(()=>{!x||!Array.isArray(s)||(p=s?.find(t=>t.date===x),g(p?p.key:null))},[x,s]),a.useEffect(()=>{T&&x&&m()},[x,T]),e.jsxs("div",{className:"w-full bg-white rounded-[10px] box_shadow_common p-[15px] md:p-[40px] flex flex-col gap-[40px]",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 items-center gap-4",children:[e.jsx("div",{className:"flex flex-col gap-[5px]",children:e.jsx("p",{className:"commonQuesP !font-medium",children:K(r?.date,c?.DATE_WITH_DAY_FORMAT)})}),p?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:flex justify-start md:justify-end gap-2 ",children:s?.map(t=>e.jsx("div",{className:"w-full",children:e.jsx(X,{onClick:()=>{g(t?.key),i(t?.date)},parentClassName:"",className:`rounded-[10px] px-[15px] py-[15px] text-[18px] font-medium box_shadow_common !border-none min-w-[140px] xl:min-w-[140px]  w-full ${T==t?.key?"!text-white  gradient-background":"gradient-text"}`,children:t?.value?.charAt(0).toUpperCase()+t?.value?.slice(1)},t?.key)}))}):null]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{className:"flex flex-col gap-[10px]",children:[e.jsx("p",{className:"commonQuesH3 !font-medium",children:h("start_time")}),e.jsxs("p",{className:"rahukaalCardP gradient-text",children:[M(r?.timings?.start_time,E?.TIME_12_HOUR_FORMAT)," to ",M(r?.timings?.end_time,E?.TIME_12_HOUR_FORMAT)]})]}),e.jsxs("div",{className:"flex flex-col gap-[10px] afterLines relative",children:[e.jsx("p",{className:"commonQuesH3 !font-medium",children:h("duretion")}),e.jsxs("p",{className:"rahukaalCardP gradient-text",children:[" ",e.jsx("span",{children:r?.timings?.duration||"-"})," "]})]}),e.jsxs("div",{className:"flex flex-col gap-[10px]",children:[e.jsx("p",{className:"commonQuesH3 !font-medium",children:h("current_time")}),e.jsx("p",{className:"rahukaalCardP gradient-text",children:y})]})]})]})};function fe(){const{t:d}=L(),_=V(),j=localStorage?.getItem(O?.LANGUAGE_KEY)?localStorage?.getItem(O?.LANGUAGE_KEY):G?.ENGLISH,w=I(o=>o?.masterSlice?.loader),r=I(o=>o.masterSlice?.location),[x,v]=a.useState("Ahmedabad"),[m,y]=a.useState(null),[h,T]=a.useState(f().format(E?.TIME_WITH_SECONDS_12_HOUR_FORMAT)),[g,A]=a.useState(null),[u,s]=a.useState(f().format(c?.DATE_DASH_FORMAT)),i=o=>{v(o)},p=o=>{y(o)},t=async()=>{if(W(_,"rahukal_loader"),r){const o={date:f(u).format(c?.DATE_SLASH_FORMAT),time:f().format("HH:mm"),lat:m?.coordinates?.[0]||r?.coordinates?.[0]||"23.02579000",lon:m?.coordinates?.[1]||r?.coordinates?.[1]||"72.58727000",tz:m?.tz||r?.tz||"5.5",tzon:m?.tzone?.[0],u_name:m?.full_name||r?.u_name,lang:j};Q(o).then(N=>{if(N?.code===F?.SUCCESS){const{request:H,response:D}=N?.data;D?.advanced_details&&$({date:f(u).format(c?.DATE_DASH_FORMAT),place:H?.u_name||r?.full_name,lang:j,sunrise:M(D?.advanced_details?.sun_rise,E?.TIME_24_HOUR_FORMAT),sunset:M(D?.advanced_details?.sun_set,E?.TIME_24_HOUR_FORMAT)}).then(n=>{n?.code===F?.SUCCESS?(A(n?.data),T(f().format(E.TIME_WITH_SECONDS_12_HOUR_FORMAT))):A([])})}else Z(N?.message)})}await new Promise(o=>setTimeout(o,200)),q(_)};return e.jsxs(e.Fragment,{children:[w?.is_loading&&w?.loding_type==="rahukal_loader"&&e.jsx(ee,{}),e.jsx("section",{children:e.jsx(B,{text:d("rahu_kaal"),highlight:""})}),e.jsx("section",{children:e.jsx("div",{className:"container mx-auto paddingTop100",children:e.jsx(se,{showClear:!0,showButton:!0,showDate:!0,value:x,onChange:i,onSelectLocation:p,placeholder:d("enter_city_name"),onSubmit:t,selectedDate:u,setSelectedDate:s})})}),e.jsx("section",{className:"",children:e.jsx("div",{className:"container mx-auto paddingTop50",children:e.jsx(k,{title:g?.title,description:g?.description})})}),e.jsx("section",{children:e.jsx("div",{className:"container mx-auto paddingTop50 ",children:e.jsx(oe,{rahuKaalData:g,selectedDate:f(u).format(c?.DATE_DASH_FORMAT),setSelectedDate:s,onSubmit:t,apiCallTime:h})})}),e.jsx("section",{className:"",children:e.jsxs("div",{className:"container mx-auto paddingTop50 paddingBottom100 flex flex-col gap-[30px]",children:[e.jsx(k,{title:d("rahukal_title_1"),description:d("rahukal_description_1")}),e.jsx(k,{title:d("rahukal_title_2"),description:d("rahukal_descreption_2")})]})})]})}export{fe as default};
